# CSS에서 position이란? (중요도 5)

## Table of Conetents

1. [position 속성](#position-속성)
2. [용어 공부](#용어-공부)
3. [session-storage](#session-storage)

## position 속성

CSS의 `position` 속성은 문서 상에 요소를 배치하는 방법을 지정한다.

- static
  - 기본값
  - 요소는 문서 흐름에 따라 위치하게 된다.
  - 요소가 순서대로 배치된다. 즉, 위치 지정이 필요 없다.
  - top, right, bottom, left 속성이 아무런 영향을 주지 않는다.
  - z-index 속성도 무시된다.
- relative
  - 요소는 문서 흐름에 따라 위치하지만, 이동할 수 있다.
  - 직전 요소에 이어서 상대 위치에 배치한다.
  - 자기 자신을 기준으로 top, right, bottom, left의 값에 따라 오프셋을 적용한다.
  - 오프셋은 다른 요소에는 영향을 주지 않는다.
    따라서 페이지 레이아웃에서 차지하는 공간은 static일 때와 같다.
  - z-index의 값이 auto가 아니라면 새로운 쌓임 맥락을 생성한다.
  - table-\*-group, table-row, table-column, table-cell, table-caption 요소에 적용했을 때의 작동 방식은 정의되지 않았다.(이 요소들에 position과 z-index를 적용했을 때 작동 방식은 기대와 다르게 동작할 수 있다.)
- absolute
  - 요소를 일반적으로 문서 흐름에서 제거한다.
  - 페이지 레이아웃에 공간도 배정하지 않는다.
  - 가장 가까운 위치 지정 조상 요소에 대해 상대적으로 배치한다.
  - 조상 중 위치 지정 요소가 없다면, 초기 컨테이닝 블록을 기준으로 삼는다.
  - 최종 위치는 top, right, bottom, left값이 지정한다.
  - z-index의 값이 auto가 아니라면 새로운 쌓임 맥락을 생성한다. 절대 위치 지정 요소의 margin은 서로 상쇄되지 않는다(margin collapse가 적용되지 않는다).
- fixed
  - 요소를 일반적인 문서 흐름에서 제거하고, 페이지 레이아웃에 공간도 배정하지 않는다.
  - 대신 뷰포트(viewport)의 초기 컨테이닝 블록을 기준으로 삼아 배치한다.
  - 단, 요소의 조상 중 하나가 transform, perspective, filter 속성 중 어느 하나라도 none이 아니라면 뷰포트 대신 그 조상을 컨테이닝 블록으로 삼는다. 최종 위치는 top, right, bottom, left 값이 지정한다.
  - 이 값은 항상 새로운 쌓임 맥락을 생성한다. 문서를 인쇄할 때는 해당 요소가 모든 페이지의 같은 위치에 출력된다.
- sticky
  - static+fixed 특징을 동시에 가진다.
  - 요소를 일반적인 문서 흐름에 따라 배치한다.
  - 테이블 관련 요소를 포함해 가장 가까운, 스크롤 되는 조상과, 표 관련 요소를 포함한 컨테이닝 블록(가장 가까운 블록 레벨 조상) 을 기준으로 top, right, bottom, left의 값에 따라 오프셋을 적용한다. 오프셋은 다른 요소에는 영향을 주지 않는다.
  - 항상 새로운 쌓임 맥락을 생성한다.
  - 스크롤 동작(overflow: hidden, scroll, auto, overlay)이 존재하는 가장 가까운 조상에 붙는다. 그 조상이 스크롤 불가하고, 실제로 스크롤 가능한 조상이 따로 존재할 경우, sticky 동작을 보이지 않는다.

## 용어 공부

- offset
  - top, left, right, bottom 값을 의미하고, 기준이 되는 곳으로부터 얼만큼 떨어져 있는지를 나타내기 위해 필요한 속성이다.
- 쌓임 맥락(stacking context)
  - 가상의 Z축을 사용한 HTML 요소의 3차원 개념화.
  - 요소가 화면에 쌓이는 순서를 결정한다.
  - Z축은 사용자 기준이며, 사용자는 뷰포트/웹페이지를 바라보고 있을 것으로 가정한다.
  - 일반적으로 새로운 쌓임 맥락을 생성하는 요소는 `position`이 relative, absolute, fixed, sticky 일 때와 `z-index`가 auto가 아닌 값일 때다.
- 뷰포트(viewport)
  - 현재 화면에 보여지는 다각형(보통 직사각형)의 영역.
  - 데스크톱은 사용자가 설정한 해상도가 뷰포트 영역이 되고, 스마트 기기는 기본으로 설정되어 있는 값이 뷰포트 영역이 된다.
  - 웹 브라우저에서는, 현재 창에서 분서를 볼 수 있는 부분(전체 화면이라면 화면 전체)를 말한다.
  - 뷰포트 바깥의 콘텐츠는 스크롤하기 전엔 보이지 않는다.
  - 시각적 뷰포트 : 뷰포트 중에서도 지금 볼 수 있는 부분을 말함. 사용자가 두 손가락으로 대상을 확대 및 축소하는 동작과 같은 특정 상황에서, 레이아웃 뷰포트(페이지의 모든 요소를 다룬다.)의 크기는 변하지 않지만 시각적 뷰포트는 더 작아진다.
- 컨테이닝 블록
  - 요소의 위치와 크기를 지정하는 데 사용하는 블록.
  - 상대적인 값이나, 요소의 위치를 지정하는 기준이 필요할 때 사용한다는 의미다.

참고자료

https://developer.mozilla.org/ko/docs/Web/CSS/position
